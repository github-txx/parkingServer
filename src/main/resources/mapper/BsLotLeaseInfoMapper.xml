<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.parkingserver.dao.BsLotLeaseInfoDao" >
    <resultMap id="result_map_BS_LOT_LEASE_INFO" type="com.example.parkingserver.entity.BsLotLeaseInfoVO">
        <result column="id" property="id"/>
        <result column="parking_id" property="parkingId"/>
        <result column="parking_lot_id" property="parkingLotId"/>
        <result column="lease_user" property="leaseUser"/>
        <result column="lease_user_mobile" property="leaseUserMobile"/>
        <result column="lease_user_addr" property="leaseUserAddr"/>
        <result column="lease_time" property="leaseTime"/>
        <result column="type" property="type"/>
        <result column="lease_period" property="leasePeriod"/>
        <result column="lease_price" property="leasePrice"/>
        <result column="lease_car_no" property="leaseCarNo"/>
        <result column="create_by" property="createBy"/>
        <result column="create_dt" property="createDt"/>
        <result column="create_name" property="createName"/>
        <result column="modify_by" property="modifyBy"/>
        <result column="modify_dt" property="modifyDt"/>
        <result column="modify_name" property="modifyName"/>
        <result column="dr" property="dr"/>
    </resultMap>

    <sql id="Base_Column_List" >
        id,parking_id,parking_lot_id,lease_user,lease_user_mobile,lease_user_addr,lease_time,type,lease_period,lease_price,lease_car_no,create_by,create_dt,create_name,modify_by,modify_dt,modify_name,dr
	</sql>

    <!-- 查询条件 -->
    <sql id="Example_Where_Clause">
        <trim prefix=" WHERE " prefixOverrides="AND ">
            <if test="id != null" >and id = #{id}</if>
            <if test="parkingId != null" >and parking_id = #{parkingId}</if>
            <if test="parkingLotId != null" >and parking_lot_id = #{parkingLotId}</if>
            <if test="leaseUser != null" >and lease_user = #{leaseUser}</if>
            <if test="leaseUserMobile != null" >and lease_user_mobile = #{leaseUserMobile}</if>
            <if test="leaseUserAddr != null" >and lease_user_addr = #{leaseUserAddr}</if>
            <if test="leaseTime != null" >and lease_time = #{leaseTime}</if>
            <if test="type != null" >and type = #{type}</if>
            <if test="leasePeriod != null" >and lease_period = #{leasePeriod}</if>
            <if test="leasePrice != null" >and lease_price = #{leasePrice}</if>
            <if test="leaseCarNo != null" >and lease_car_no = #{leaseCarNo}</if>
            <if test="createBy != null" >and create_by = #{createBy}</if>
            <if test="createDt != null" >and create_dt = #{createDt}</if>
            <if test="createName != null" >and create_name = #{createName}</if>
            <if test="modifyBy != null" >and modify_by = #{modifyBy}</if>
            <if test="modifyDt != null" >and modify_dt = #{modifyDt}</if>
            <if test="modifyName != null" >and modify_name = #{modifyName}</if>
            <if test="dr != null" >and dr = #{dr}</if>
        </trim>
    </sql>

    <!-- 统计总数 -->
    <select id="countFindAll" resultType="java.lang.Integer">SELECT count(1) as value FROM bs_lot_lease_info</select>

    <!-- 根据条件查询 -->
    <select id="freeFind" resultMap="result_map_BS_LOT_LEASE_INFO" parameterType="Object">
        SELECT <include refid="Base_Column_List" /> FROM bs_lot_lease_info
        <include refid="Example_Where_Clause" />
    </select>

    <!-- 根据条件查询的数量 -->
    <select id="countFreeFind" resultType="java.lang.Integer">
        SELECT count(1) as value FROM bs_lot_lease_info
        <include refid="Example_Where_Clause" />
    </select>

    <!-- 根据主键查询对象 -->
    <select id="findByPK" resultMap="result_map_BS_LOT_LEASE_INFO" parameterType="Object">
        SELECT <include refid="Base_Column_List" /> FROM bs_lot_lease_info WHERE ID=#{id}
    </select>

    <!-- 插入记录 -->
    <insert id="insert" parameterType="Object" >
        INSERT INTO bs_lot_lease_info (
        <trim prefix=" " prefixOverrides=",">
            <if test="id != null ">,id</if>
            <if test="parkingId != null" >,parking_id</if>
            <if test="parkingLotId != null" >,parking_lot_id</if>
            <if test="leaseUser != null" >,lease_user</if>
            <if test="leaseUserMobile != null" >,lease_user_mobile</if>
            <if test="leaseUserAddr != null" >,lease_user_addr</if>
            <if test="leaseTime != null" >,lease_time</if>
            <if test="type != null" >,type</if>
            <if test="leasePeriod != null" >,lease_period</if>
            <if test="leasePrice != null" >,lease_price</if>
            <if test="leaseCarNo != null" >,lease_car_no</if>
            <if test="createBy != null" >,create_by</if>
            <if test="createDt != null" >,create_dt</if>
            <if test="createName != null" >,create_name</if>
            <if test="modifyBy != null" >,modify_by</if>
            <if test="modifyDt != null" >,modify_dt</if>
            <if test="modifyName != null" >,modify_name</if>
            <if test="dr != null" >,dr = #{dr}</if>
        </trim>
        )  VALUES (
        <trim prefix=" " prefixOverrides=",">
            <if test="id != null ">,#{id}</if>
            <if test="parkingId != null" >,#{parking_id}</if>
            <if test="parkingLotId != null" >,#{parking_lot_id}</if>
            <if test="leaseUser != null" >,#{lease_user}</if>
            <if test="leaseUserMobile != null" >,#{lease_user_mobile}</if>
            <if test="leaseUserAddr != null" >,#{lease_user_addr}</if>
            <if test="leaseTime != null" >,#{lease_time}</if>
            <if test="type != null" >,#{type}</if>
            <if test="leasePeriod != null" >,#{lease_period}</if>
            <if test="leasePrice != null" >,#{lease_price}</if>
            <if test="leaseCarNo != null" >,#{lease_car_no}</if>
            <if test="createBy != null ">,#{createBy}</if>
            <if test="createDt != null ">,#{createDt}</if>
            <if test="createName != null" >,#{create_name}</if>
            <if test="modifyBy != null ">,#{modifyBy}</if>
            <if test="modifyDt != null ">,#{modifyDt}</if>
            <if test="modifyName != null" >,#{modify_name}</if>
            <if test="dr != null ">,#{dr}</if>
        </trim>
        )
        <selectKey resultType="java.lang.Integer" order="AFTER" keyProperty="id">
            SELECT LAST_INSERT_ID() AS ID
        </selectKey>
    </insert>

</mapper>
